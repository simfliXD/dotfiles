# Omarchy Overrides Configuration File
# This file contains custom configuration for Omarchys hyprland configs.

####################
###  KEYBINDINS  ###
####################

# Change keybinding and password manager to Bitwarden
unbind = SUPER SHIFT, SLASH, Passwords, exec, uwsm-app -- 1password
bindd = SUPER SHIFT, code:61, Passwords, exec, uwsm-app -- bitwarden.desktop # code:61 is for - or in other words hyphen/minus key.

#change spotify client to spotify-qt
unbind = SUPER SHIFT, M, Music, exec, omarchy-launch-or-focus spotify
bindd = SUPER SHIFT, M, Music, exec, omarchy-launch-or-focus spotify-qt


#################
###  MONITOR  ###
#################

#general {
#  allow_tearing = true
#}



env = GDK_SCALE, 1

# set laptop monitor to preferred resolution and scaling 1x good for 1080p or 1440p screens
monitor = eDP-1, preferred, auto, 1

# set external monitor to highest refresh rate for DP-1 and preferred for HDMI-A-1
monitor = DP-1, highrr, auto, 1
monitor = HDMI-A-1, preferred, auto, 1

# set remaining monitors to preferred mode; use highrr for highest refresh rate
monitor=, preferred, auto, 1

# set primary monitor based on connected monitors (laptop screen has priority, then DP-1, then HDMI-A-1)
exec-once = sh -c 'if xrandr | grep -q "^eDP-1 connected"; then xrandr --output eDP-1 --primary; elif xrandr | grep -q "^DP-1 connected"; then xrandr --output DP-1 --primary; elif xrandr | grep -q "^HDMI-A-1 connected"; then xrandr --output HDMI-A-1 --primary; fi'

# Assign workspaces to specific monitors
workspace=name:1, monitor:eDP-1
workspace=name:2, monitor:eDP-1

workspace=name:1, monitor:DP-1
workspace=name:2, monitor:DP-1

workspace=name:3, monitor:HDMI-A-1
workspace=name:4, monitor:HDMI-A-1
workspace=name:5, monitor:HDMI-A-1
workspace=name:6, monitor:HDMI-A-1

# Global workspace rules

workspace = w[tv1]s[false], gapsout:0, gapsin:0 # default are gapsin:5, gapsout:10
workspace = f[1]s[false], gapsout:0, gapsin:0 # default are gapsin:5, gapsout:10

# start cursor on workspace 1
exec-once = hyprctl dispatch workspace 1

###################
###  AUTO-START  ##
###################

exec-once = [workspace 6] uwsm-app spotify-qt

#####################
###  WINDOWRULES  ###
#####################
windowrule = float 1, center 1, match:title ^(Authentication Required)$

##############
###  TAGS  ###
##############

# browser tags
windowrule = tag +browser, match:class ^([Ff]irefox|org.mozilla.firefox|[Ff]irefox-esr|[Ff]irefox-bin)$
windowrule = tag +browser, match:class ^([Gg]oogle-chrome(-beta|-dev|-unstable)?)$
windowrule = tag +browser, match:class ^(chrome-.+-Default)$ # Chrome PWAs
windowrule = tag +browser, match:class ^([Mm]icrosoft-edge(-stable|-beta|-dev|-unstable))$
windowrule = tag +browser, match:class ^(Brave-browser(-beta|-dev|-unstable)?)$
windowrule = tag +browser, match:class ^([Tt]horium-browser|[Cc]achy-browser)$
windowrule = tag +browser, match:class ^(zen-alpha|zen)$

windowrule = tag -browser, match:title ^([Dd]iscord.*)$ # For discord webapps

# Notif tags
windowrule = tag +notif, match:class ^(swaync-control-center|swaync-notification-window|swaync-client|class)$

# Terminal tags
windowrule = tag +terminal, match:class ^(Alacritty|kitty|kitty-dropterm)$

# Email tags
windowrule = tag +email, match:class ^([Tt]hunderbird|org.gnome.Evolution)$
windowrule = tag +email, match:class ^(eu.betterbird.Betterbird)$

# Socialmeida tags
windowrule = tag +socialmedia, match:class ^(discord|vesktop|Vencord|Slack|Signal|TelegramDesktop|whatsapp-for-linux|Element|skypeforlinux|zoom|Microsoft Teams)$

windowrule = tag +socialmedia, match:title ^([Dd]iscord.*)$
windowrule = workspace 5, match:tag socialmedia

# Project tags
windowrule = tag +projects, match:class ^(codium|codium-url-handler|VSCodium)$
windowrule = tag +projects, match:class ^(VSCode|code|code-url-handler)$
windowrule = tag +projects, match:class ^(jetbrains-.+)$ # JetBrains IDEs

# Game tags
windowrule = tag +games, match:class ^(gamescope)$
windowrule = tag +games, match:content 3 # Content type 3 = game

# Gamelauncher
windowrule = tag +gamelauncher, match:class ^(steam_app_\d+|steam)$
windowrule = tag +gamelauncher, match:title ^(Epic Games Launcher)$

# Multimedia tags
windowrule = tag +multimedia, match:class ^([Aa]udacious)$
windowrule = tag +multimedia_video, match:class ^([Mm]pv|vlc)$

# Music tags
windowrule = tag +music, match:class ^(spotify-qt|spotify|spotify-tui)$

# Settings tags
windowrule = tag +settings, match:class ^(pavucontrol|org.pulseaudio.pavucontrol|com.saivert.pwvucontrol)$
windowrule = tag +settings, match:class ^(qt5ct|qt6ct|[Yy]ad)$


# Move to workspace

#windowrule = workspace 1, match:tag browser*
windowrule = workspace 5, match:tag email*
windowrule = workspace 2, match:tag gamelauncher*
windowrule = workspace 2, match:tag games*
windowrule = workspace 4, match:tag projects*
windowrule = workspace 2, match:tag multimedia_video*
windowrule = workspace 6, match:tag music*

# BROWSER

windowrule = opacity 0.95 0.75 0.95, match:tag browser*

# Dialog sizing
windowrule = size 70% 60%, match:title ^(Add Folder to Workspace)$
windowrule = size 70% 60%, match:title ^(Save As)$
windowrule = size 70% 60%, match:initial_title (Open Files)$
####

# GAMELAUNCHER
windowrule = float 1, center 1, match:tag gamelauncher*
#windowrule = fullscreen 2, match:tag gamelauncher*

# GAMES

windowrule = no_blur 1, match:tag games*
windowrule = fullscreen 1, match:tag games*

# MUSIC

windowrule = tile 1, match:tag music*



##############
##  VSCODE  ##
##############

#windowrule = workspace 4, match:class ^(code)$
windowrule = float 1, match:class (codium|codium-url-handler|VSCodium), match:title (.*codium.*|.*VSCodium.*)

# Smart borders and rounding for workspace 4 when VSCODE is the only tiled or maximized window
windowrule = border_size 0, match:float 0, match:workspace w[tv1]s[false], match:class ^(code.*)$
windowrule = rounding 0, match:float 0, match:workspace w[tv1]s[false], match:class ^(code.*)$

# Remove transparancy for VSCODE on workspace 4 and is alone to remove distractions when multitasking
windowrule = opacity 1.0 1.0, match:float 0, match:workspace w[tv1], match:class ^(code.*)$


###############
###  OTHER  ###
###############


decoration {
    # Use round window corners
    rounding = 8
}


# ensure mouse acceleration is off
input.accel_profile = flat